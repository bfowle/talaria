<!DOCTYPE HTML>
<html lang="en" class="rust sidebar-visible" dir="ltr">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Storage Overview - Talaria Documentation</title>


        <!-- Custom HTML head -->
        <!-- MathJax Configuration -->
        <script>
        window.MathJax = {
          tex2jax: {
            inlineMath: [['$','$'], ['\\(','\\)']],
            displayMath: [['$$','$$'], ['\\[','\\]']],
            processEscapes: true,
            processEnvironments: true
          },
          TeX: {
            equationNumbers: { autoNumber: "AMS" },
            extensions: ["AMSmath.js", "AMSsymbols.js"]
          }
        };
        </script>
        <meta name="description" content="Intelligent FASTA reduction for aligner index optimization">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff">

        <link rel="icon" href="../favicon.svg">
        <link rel="shortcut icon" href="../favicon.png">
        <link rel="stylesheet" href="../css/variables.css">
        <link rel="stylesheet" href="../css/general.css">
        <link rel="stylesheet" href="../css/chrome.css">
        <link rel="stylesheet" href="../css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="../FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="../fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" id="highlight-css" href="../highlight.css">
        <link rel="stylesheet" id="tomorrow-night-css" href="../tomorrow-night.css">
        <link rel="stylesheet" id="ayu-highlight-css" href="../ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        <link rel="stylesheet" href="../custom.css">


        <!-- Provide site root and default themes to javascript -->
        <script>
            const path_to_root = "../";
            const default_light_theme = "rust";
            const default_dark_theme = "ayu";
            window.path_to_searchindex_js = "../searchindex.js";
        </script>
        <!-- Start loading toc.js asap -->
        <script src="../toc.js"></script>
    </head>
    <body>
    <div id="mdbook-help-container">
        <div id="mdbook-help-popup">
            <h2 class="mdbook-help-title">Keyboard shortcuts</h2>
            <div>
                <p>Press <kbd>←</kbd> or <kbd>→</kbd> to navigate between chapters</p>
                <p>Press <kbd>S</kbd> or <kbd>/</kbd> to search in the book</p>
                <p>Press <kbd>?</kbd> to show this help</p>
                <p>Press <kbd>Esc</kbd> to hide this help</p>
            </div>
        </div>
    </div>
    <div id="body-container">
        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                let theme = localStorage.getItem('mdbook-theme');
                let sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            const default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? default_dark_theme : default_light_theme;
            let theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            const html = document.documentElement;
            html.classList.remove('rust')
            html.classList.add(theme);
            html.classList.add("js");
        </script>

        <input type="checkbox" id="sidebar-toggle-anchor" class="hidden">

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            let sidebar = null;
            const sidebar_toggle = document.getElementById("sidebar-toggle-anchor");
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
                sidebar_toggle.checked = false;
            }
            if (sidebar === 'visible') {
                sidebar_toggle.checked = true;
            } else {
                html.classList.remove('sidebar-visible');
            }
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <!-- populated by js -->
            <mdbook-sidebar-scrollbox class="sidebar-scrollbox"></mdbook-sidebar-scrollbox>
            <noscript>
                <iframe class="sidebar-iframe-outer" src="../toc.html"></iframe>
            </noscript>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle">
                <div class="sidebar-resize-indicator"></div>
            </div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <label id="sidebar-toggle" class="icon-button" for="sidebar-toggle-anchor" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </label>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="default_theme">Auto</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search (`/`)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="/ s" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">Talaria Documentation</h1>

                    <div class="right-buttons">
                        <a href="../print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                        <a href="https://github.com/Andromeda-Tech/talaria" title="Git repository" aria-label="Git repository">
                            <i id="git-repository-button" class="fa fa-github"></i>
                        </a>
                        <a href="https://github.com/Andromeda-Tech/talaria/edit/main/docs/src/casg/overview.md" title="Suggest an edit" aria-label="Suggest an edit" rel="edit">
                            <i id="git-edit-button" class="fa fa-edit"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <div class="search-wrapper">
                            <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                            <div class="spinner-wrapper">
                                <i class="fa fa-spinner fa-spin"></i>
                            </div>
                        </div>
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.4/dist/katex.min.css">
<h1 id="content-addressed-sequence-graph-casg"><a class="header" href="#content-addressed-sequence-graph-casg">Content-Addressed Sequence Graph (CASG)</a></h1>
<h2 id="overview"><a class="header" href="#overview">Overview</a></h2>
<p>The Content-Addressed Sequence Graph (CASG) represents a paradigm shift in how we store, distribute, and manage biological sequence databases. As genomic data doubles every seven months and protein databases grow exponentially, the traditional approach of downloading entire databases for each update has become unsustainable. CASG solves this crisis through a combination of content-addressed storage, cryptographic verification, and intelligent chunking that reduces update bandwidth by 99% while maintaining perfect data integrity.</p>
<h3 id="the-problem-database-update-explosion"><a class="header" href="#the-problem-database-update-explosion">The Problem: Database Update Explosion</a></h3>
<p>Consider the reality facing a typical bioinformatics lab:</p>
<ul>
<li><strong>NCBI nr database</strong>: 100GB+ and growing daily</li>
<li><strong>Traditional updates</strong>: Re-download the entire 100GB even for 1GB of changes</li>
<li><strong>Monthly bandwidth waste</strong>: 3TB for daily updates (99% redundant)</li>
<li><strong>Version chaos</strong>: No way to prove which exact version was used in published research</li>
<li><strong>Storage multiplication</strong>: Each team member maintains separate copies</li>
</ul>
<p>CASG transforms this chaos into order by treating databases not as monolithic files but as graphs of cryptographically-verified chunks, where each piece is stored exactly once and updates only transmit actual changes.</p>
<pre class="mermaid">graph TB
    subgraph &quot;Traditional Approach&quot;
        T1[Version 2024-01-01&lt;br/&gt;100GB]
        T2[Version 2024-02-01&lt;br/&gt;102GB]
        T3[Version 2024-03-01&lt;br/&gt;105GB]
        T1 --&gt; T2
        T2 --&gt; T3
    end

    subgraph &quot;CASG Approach&quot;
        M[Manifest&lt;br/&gt;~100KB]
        C1[Chunk A&lt;br/&gt;SHA256: abc...]
        C2[Chunk B&lt;br/&gt;SHA256: def...]
        C3[New Chunk C&lt;br/&gt;SHA256: ghi...]
        M --&gt; C1
        M --&gt; C2
        M --&gt; C3
        C1 -.-&gt; |Deduplicated| C1
    end

    style T1 stroke:#d32f2f,stroke-width:2px
    style T2 stroke:#d32f2f,stroke-width:2px
    style T3 stroke:#d32f2f,stroke-width:2px
    style M stroke:#388e3c,stroke-width:2px
    style C1 stroke:#1976d2,stroke-width:2px
    style C2 stroke:#1976d2,stroke-width:2px
    style C3 stroke:#f57c00,stroke-width:2px,stroke-dasharray: 5 5
</pre>
<h2 id="key-concepts"><a class="header" href="#key-concepts">Key Concepts</a></h2>
<h3 id="1-content-addressed-storage-the-foundation-of-trust"><a class="header" href="#1-content-addressed-storage-the-foundation-of-trust">1. Content-Addressed Storage: The Foundation of Trust</a></h3>
<p>Content-addressed storage fundamentally changes how we think about data identity. Instead of arbitrary names like “swissprot_2024.fasta”, each piece of data is identified by its SHA256 cryptographic hash—a unique fingerprint computed from its actual content.</p>
<h4 id="why-this-matters"><a class="header" href="#why-this-matters">Why This Matters</a></h4>
<p>Imagine you’re reviewing a paper that used “UniProt SwissProt from March 2024”. Which exact version? What if there were multiple updates that day? With traditional naming, you can never be certain. With content-addressing, the hash <code>sha256:abc123...</code> identifies exactly one possible piece of data in the universe. If even a single byte changes, the hash completely changes.</p>
<p>This provides three revolutionary properties:</p>
<ul>
<li>
<p><strong>Immutable Identity</strong>: The address IS the content. You cannot change data at an address without changing the address itself. This eliminates entire classes of errors where files are modified but keep the same name.</p>
</li>
<li>
<p><strong>Cryptographic Verification</strong>: Given a hash and data, you can prove in milliseconds whether they match. No trust required—mathematics guarantees correctness. This is crucial for reproducible science where we must prove exact datasets were used.</p>
</li>
<li>
<p><strong>Perfect Deduplication</strong>: If two labs both have E. coli sequences with hash <code>sha256:def456...</code>, it’s not just similar—it’s identical down to the last bit. Store it once, reference it everywhere.</p>
</li>
</ul>
<h3 id="2-merkle-dags-proof-at-scale"><a class="header" href="#2-merkle-dags-proof-at-scale">2. Merkle DAGs: Proof at Scale</a></h3>
<p>A Merkle Directed Acyclic Graph (DAG) is more than a data structure—it’s a trust framework that scales from single sequences to petabyte databases. Named after Ralph Merkle who invented the concept for cryptographic proofs, these structures power everything from Git to Bitcoin, and now, biological databases.</p>
<h4 id="the-power-of-tree-based-proofs"><a class="header" href="#the-power-of-tree-based-proofs">The Power of Tree-Based Proofs</a></h4>
<p>Instead of storing a flat list of millions of sequences, CASG organizes them into a tree where each node contains the hash of its children. This creates a cascade of proofs: to trust the root, you only need to verify the root hash. To trust any sequence, you only need a path from that sequence to the root—typically just 20-30 hashes even for databases with millions of sequences.</p>
<p>The implications are profound:</p>
<pre class="mermaid">graph TD
    Root[Root Hash&lt;br/&gt;SHA256: 0xabc...]
    S[Sequences Root]
    T[Taxonomy Root]

    Root --&gt; S
    Root --&gt; T

    S --&gt; S1[Chunk Group 1]
    S --&gt; S2[Chunk Group 2]

    T --&gt; T1[Bacteria]
    T --&gt; T2[Eukarya]

    S1 --&gt; C1[Chunk: E.coli sequences]
    S1 --&gt; C2[Chunk: Salmonella sequences]

    T1 --&gt; T3[Proteobacteria]
    T3 --&gt; T4[E. coli&lt;br/&gt;TaxID: 562]

    style Root stroke:#7b1fa2,stroke-width:3px
    style S stroke:#1976d2,stroke-width:2px
    style T stroke:#388e3c,stroke-width:2px
    style S1 stroke:#1976d2,stroke-width:2px
    style S2 stroke:#1976d2,stroke-width:2px
    style T1 stroke:#388e3c,stroke-width:2px
    style T2 stroke:#388e3c,stroke-width:2px
    style C1 stroke:#0288d1,stroke-width:2px
    style C2 stroke:#0288d1,stroke-width:2px
    style T3 stroke:#2e7d32,stroke-width:2px
    style T4 stroke:#2e7d32,stroke-width:2px
</pre>
<h3 id="3-bi-temporal-versioning-when-time-has-two-dimensions"><a class="header" href="#3-bi-temporal-versioning-when-time-has-two-dimensions">3. Bi-Temporal Versioning: When Time Has Two Dimensions</a></h3>
<p>Biological databases face a unique challenge: the sequences themselves evolve separately from our understanding of their relationships. A protein discovered in 2020 might be reclassified to a different organism in 2024. The sequence didn’t change—our knowledge did. CASG handles this elegantly through bi-temporal versioning.</p>
<h4 id="why-two-timelines"><a class="header" href="#why-two-timelines">Why Two Timelines?</a></h4>
<p>Consider this real scenario: In 2020, a protein was submitted as “Lactobacillus casei protein”. In 2023, the Lactobacillus genus was split into 25 genera, and this protein’s organism became “Lacticaseibacillus casei”. For a 2020 paper to be reproducible, we need the 2020 classification. For modern analysis, we need the 2023 classification. Same sequence, different taxonomic contexts.</p>
<p>CASG maintains two independent timelines:</p>
<h4 id="sequence-time-the-what"><a class="header" href="#sequence-time-the-what">Sequence Time (The “What”)</a></h4>
<p>Tracks when molecular data enters the database:</p>
<pre><code>2024-01-01: SwissProt release with 500K sequences
2024-02-01: Added 10K new proteins from structural genomics
2024-03-01: Updated 5K sequences with post-translational modifications
</code></pre>
<h4 id="taxonomy-time-the-how-we-understand-it"><a class="header" href="#taxonomy-time-the-how-we-understand-it">Taxonomy Time (The “How We Understand It”)</a></h4>
<p>Tracks when our classification knowledge changes:</p>
<pre><code>2024-01-15: NCBI Taxonomy quarterly update
2024-02-20: Lactobacillus split into 25 genera (affects 50K sequences)
2024-03-10: New viral family discovered, 10K viruses reclassified
</code></pre>
<h4 id="powerful-temporal-queries"><a class="header" href="#powerful-temporal-queries">Powerful Temporal Queries</a></h4>
<p>This bi-temporal system enables queries impossible with traditional databases:</p>
<ul>
<li>
<p><strong>Historical Reproduction</strong>: “Give me exactly the E. coli proteins as they appeared in the March 2023 paper”—both the sequences AND classifications from that date.</p>
</li>
<li>
<p><strong>Retroactive Analysis</strong>: “Apply today’s improved taxonomy to last year’s sequences”—see how modern understanding changes past results.</p>
</li>
<li>
<p><strong>Classification Evolution</strong>: “Show how this protein’s taxonomic assignment changed over 5 years”—crucial for understanding taxonomic instability.</p>
</li>
<li>
<p><strong>Temporal Joins</strong>: “Find all proteins that were classified as Lactobacillus in 2020 but aren’t now”—identify all affected sequences from taxonomic changes.</p>
</li>
</ul>
<h3 id="4-smart-taxonomic-chunking-biology-aware-storage"><a class="header" href="#4-smart-taxonomic-chunking-biology-aware-storage">4. Smart Taxonomic Chunking: Biology-Aware Storage</a></h3>
<p>Most storage systems treat data as arbitrary bytes. CASG understands that biological sequences have natural relationships that should guide how they’re organized. By chunking sequences based on taxonomic relationships, CASG achieves remarkable efficiency: researchers studying E. coli download only E. coli chunks, not the entire bacterial kingdom.</p>
<h4 id="the-intelligence-behind-chunking"><a class="header" href="#the-intelligence-behind-chunking">The Intelligence Behind Chunking</a></h4>
<p>CASG’s chunking algorithm considers multiple factors:</p>
<p><strong>Taxonomic Coherence</strong>: Sequences from the same organism are kept together. This isn’t just convenient—it’s scientifically optimal. Related sequences share evolutionary history, making them more similar and thus more compressible when stored together.</p>
<p><strong>Access Patterns</strong>: Model organisms like E. coli, human, and mouse get dedicated chunks because they’re frequently accessed. Environmental samples might be grouped at higher taxonomic levels since they’re accessed less specifically.</p>
<p><strong>Chunk Size Optimization</strong>: Each chunk targets 50-100MB—large enough for efficient compression and transfer, small enough for granular updates. This sweet spot emerged from extensive benchmarking across various storage and network configurations.</p>
<p><strong>Special Handling Rules</strong>: Some organisms deserve special treatment:</p>
<pre><code>Chunk Strategy:
├── Model Organisms (own chunks)
│   ├── E. coli (562) → dedicated chunks
│   ├── H. sapiens (9606) → dedicated chunks
│   └── M. musculus (10090) → dedicated chunks
├── Pathogens (grouped by family)
│   └── Enterobacteriaceae → shared chunks
└── Environmental (grouped by phylum)
    └── Proteobacteria → large shared chunks
</code></pre>
<h3 id="5-manifest-based-updates-the-100kb-solution-to-100gb-problems"><a class="header" href="#5-manifest-based-updates-the-100kb-solution-to-100gb-problems">5. Manifest-Based Updates: The 100KB Solution to 100GB Problems</a></h3>
<p>The manifest is CASG’s secret weapon—a tiny JSON file (typically under 100KB) that completely describes a multi-gigabyte database. By checking the manifest first, CASG can determine exactly what changed without downloading anything else.</p>
<h4 id="how-manifests-enable-efficient-updates"><a class="header" href="#how-manifests-enable-efficient-updates">How Manifests Enable Efficient Updates</a></h4>
<p>Think of a manifest like a restaurant menu. You don’t need to order every dish to know what’s available—the menu tells you everything. Similarly, the manifest lists every chunk in the database with its hash, size, and taxonomic content. When checking for updates:</p>
<ol>
<li><strong>Download new manifest</strong> (100KB, &lt;1 second)</li>
<li><strong>Compare with local manifest</strong> (instant)</li>
<li><strong>Download only changed chunks</strong> (typically 1-5% of database)</li>
</ol>
<p>This transforms the update problem:</p>
<pre><code class="language-yaml"># Manifest (&lt; 100KB)
version: "2024-03-15"
etag: "W/\"5e3b-1234567890\""
taxonomy_root: sha256:abc123...
sequence_root: sha256:def456...
chunks:
  - hash: sha256:chunk1...
    taxa: [562, 563]  # E. coli strains
    size: 52428800    # 50MB
  - hash: sha256:chunk2...
    taxa: [9606]      # Human
    size: 104857600   # 100MB
</code></pre>
<h2 id="benefits-real-world-impact"><a class="header" href="#benefits-real-world-impact">Benefits: Real-World Impact</a></h2>
<h3 id="for-individual-researchers"><a class="header" href="#for-individual-researchers">For Individual Researchers</a></h3>
<p>CASG transforms the daily reality of bioinformatics work:</p>
<p><strong>Selective Downloads</strong>: A researcher studying plant proteins doesn’t need bacterial sequences. With CASG, they download only plant-related chunks—potentially 10GB instead of 100GB. The storage savings compound: five team members studying different organisms might need only 30GB total instead of 5×100GB.</p>
<p><strong>Instant Update Checks</strong>: That anxiety of “Is my database current?” disappears. A manifest check takes under a second and definitively answers whether updates exist. No more re-downloading entire databases “just to be sure”.</p>
<p><strong>Network Resilience</strong>: Interrupted downloads resume automatically. Each chunk is verified independently, so partial downloads are useful immediately. This matters enormously in regions with unstable internet.</p>
<p><strong>Perfect Reproducibility</strong>: Published a paper? Include the manifest hash. Anyone, anywhere, anytime can reconstruct your exact database—even years later when numerous updates have occurred. This isn’t just convenient; it’s essential for scientific reproducibility.</p>
<h3 id="for-teams-and-institutions"><a class="header" href="#for-teams-and-institutions">For Teams and Institutions</a></h3>
<p>CASG’s benefits multiply in collaborative environments:</p>
<p><strong>Shared Infrastructure</strong>: When multiple researchers use overlapping databases, CASG stores each unique chunk only once. A 20-person lab might need only 150GB for databases that would traditionally require 2TB (20×100GB). The storage system becomes a shared asset, not duplicated overhead.</p>
<p><strong>Verifiable Collaboration</strong>: “Which version did you use?” becomes trivially answerable. Manifest hashes provide cryptographic proof of exact database states. Peer reviewers can verify that claimed databases were actually used. Grant applications can guarantee reproducibility.</p>
<p><strong>Selective Sharing</strong>: Need to share just human proteins with a collaborator? Generate a subset manifest listing only relevant chunks. They download only what they need, verified against your cryptographic proofs. No more shipping hard drives or waiting for complete database transfers.</p>
<p><strong>Compliance and Auditing</strong>: For regulated environments, CASG provides complete audit trails. Every chunk access is logged with cryptographic verification. Prove compliance with data handling requirements through immutable hash chains.</p>
<h3 id="for-infrastructure-and-it-teams"><a class="header" href="#for-infrastructure-and-it-teams">For Infrastructure and IT Teams</a></h3>
<p>CASG turns database management from a burden into a strategic advantage:</p>
<p><strong>CDN Optimization</strong>: Immutable chunks are a CDN’s dream. Set cache headers to “forever”—a chunk’s content never changes. Geographic distribution becomes trivial: chunks can be served from the nearest location without any synchronization concerns.</p>
<p><strong>Bandwidth Reduction</strong>: Updates that once consumed terabits yearly now use gigabits. For institutions with metered connections or cloud egress charges, this translates to massive cost savings. One university reported 95% reduction in database-related bandwidth costs.</p>
<p><strong>Distributed Resilience</strong>: Lost a server? No problem. Chunks can be recovered from any source—other servers, tape backups, even peer institutions. The hash verification ensures perfect recovery regardless of source.</p>
<p><strong>Storage Tiering</strong>: Frequently accessed chunks (model organisms) stay on fast SSDs. Rarely accessed chunks (obscure species) migrate to cheaper storage. The content-addressed design makes this transparent—the hash doesn’t change when data moves.</p>
<p><strong>P2P Possibilities</strong>: Content-addressing enables BitTorrent-style distribution. Labs can share bandwidth costs by serving chunks to peers. During major updates, the load distributes naturally across participants.</p>
<h2 id="mathematical-foundation-the-science-behind-casg"><a class="header" href="#mathematical-foundation-the-science-behind-casg">Mathematical Foundation: The Science Behind CASG</a></h2>
<p>CASG’s reliability stems from mathematical principles that provide provable guarantees, not just empirical testing. These foundations, drawn from cryptography and information theory, ensure that CASG’s claims of integrity and efficiency are mathematically verifiable.</p>
<h3 id="content-addressing-universal-unique-identity"><a class="header" href="#content-addressing-universal-unique-identity">Content Addressing: Universal Unique Identity</a></h3>
<p>For any data chunk <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">D</span></span></span></span>, its address is computed as:
<span class="katex-display"><span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord text"><span class="mord">Address</span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.02778em;">D</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord text"><span class="mord">SHA256</span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.02778em;">D</span><span class="mclose">)</span></span></span></span></span></p>
<p>The SHA256 function produces a 256-bit hash with remarkable properties:</p>
<ul>
<li><strong>Avalanche effect</strong>: Changing one bit in <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">D</span></span></span></span> changes ~50% of hash bits</li>
<li><strong>Collision resistance</strong>: Probability of two different inputs producing the same hash is <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8141em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span><span class="mord mtight">256</span></span></span></span></span></span></span></span></span></span></span></span> (effectively impossible)</li>
<li><strong>One-way function</strong>: Given a hash, finding the original data requires <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8141em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">256</span></span></span></span></span></span></span></span></span></span></span></span> operations (heat death of universe timeframe)</li>
</ul>
<h3 id="merkle-tree-construction-logarithmic-proof-scaling"><a class="header" href="#merkle-tree-construction-logarithmic-proof-scaling">Merkle Tree Construction: Logarithmic Proof Scaling</a></h3>
<p>For a database with chunks <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8778em;vertical-align:-0.1944em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07153em;">C</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0715em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07153em;">C</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0715em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">…</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07153em;">C</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.0715em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>, the Merkle tree is constructed recursively:
<span class="katex-display"><span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord text"><span class="mord">Root</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.08125em;">H</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.08125em;">H</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07153em;">C</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0715em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07153em;">C</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0715em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.08125em;">H</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07153em;">C</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0715em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07153em;">C</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0715em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">4</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">…</span><span class="mclose">)</span></span></span></span></span></p>
<p>Where <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.08125em;">H</span></span></span></span> is SHA256. This creates a binary tree with <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mop"><span class="mop">lo<span style="margin-right:0.01389em;">g</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.207em;"><span style="top:-2.4559em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2441em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mclose">)</span></span></span></span> height, meaning:</p>
<ul>
<li>Proof size: <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mop">lo<span style="margin-right:0.01389em;">g</span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">n</span><span class="mclose">)</span></span></span></span> - remains small even for millions of chunks</li>
<li>Verification time: <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mop">lo<span style="margin-right:0.01389em;">g</span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">n</span><span class="mclose">)</span></span></span></span> - nearly instant regardless of database size</li>
<li>Update cost: <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mop">lo<span style="margin-right:0.01389em;">g</span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">n</span><span class="mclose">)</span></span></span></span> - changing one chunk requires updating only the path to root</li>
</ul>
<h3 id="proof-of-inclusion-cryptographic-membership"><a class="header" href="#proof-of-inclusion-cryptographic-membership">Proof of Inclusion: Cryptographic Membership</a></h3>
<p>To prove chunk <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07153em;">C</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0715em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> belongs to database with root <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.00773em;">R</span></span></span></span>:
<span class="katex-display"><span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord text"><span class="mord">Proof</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.0361em;vertical-align:-0.2861em;"></span><span class="mopen">[</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.08125em;">H</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:-0.0813em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord text mtight"><span class="mord mtight">sibling</span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.08125em;">H</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:-0.0813em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord text mtight"><span class="mord mtight">parent-sibling</span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">…</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.08125em;">H</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2806em;"><span style="top:-2.55em;margin-left:-0.0813em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord text mtight"><span class="mord mtight">root</span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">]</span></span></span></span></span></p>
<p>The verification reconstructs the root:
<span class="katex-display"><span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord text"><span class="mord">Verify</span></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07153em;">C</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0715em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord text"><span class="mord">Proof</span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">≡</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord text"><span class="mord">Reconstruct</span></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07153em;">C</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0715em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord text"><span class="mord">Proof</span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="mclose">)</span></span></span></span></span></p>
<p>This proof is:</p>
<ul>
<li><strong>Compact</strong>: Only <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"></span><span class="mord">32</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mop"><span class="mop">lo<span style="margin-right:0.01389em;">g</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.207em;"><span style="top:-2.4559em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2441em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mclose">)</span></span></span></span> bytes</li>
<li><strong>Unforgeable</strong>: Requires breaking SHA256 to fake</li>
<li><strong>Independently verifiable</strong>: No trust in prover needed</li>
</ul>
<h3 id="temporal-integrity-bi-dimensional-binding"><a class="header" href="#temporal-integrity-bi-dimensional-binding">Temporal Integrity: Bi-dimensional Binding</a></h3>
<p>For sequence version <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2806em;"><span style="top:-2.55em;margin-left:-0.0576em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> at time <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7651em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">s</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> and taxonomy version <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">T</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2806em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> at time <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7651em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">T</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>:
<span class="katex-display"><span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord text"><span class="mord">CrossHash</span></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2806em;"><span style="top:-2.55em;margin-left:-0.0576em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">T</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2806em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.08125em;">H</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.08125em;">H</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2806em;"><span style="top:-2.55em;margin-left:-0.0576em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mord">∣∣</span><span class="mord mathnormal" style="margin-right:0.08125em;">H</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">T</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2806em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mord">∣∣</span><span class="mord"><span class="mord mathnormal">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">s</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord">∣∣</span><span class="mord"><span class="mord mathnormal">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">T</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span></span></p>
<p>This creates an immutable binding between sequence data and taxonomic context, enabling:</p>
<ul>
<li><strong>Temporal proofs</strong>: Prove exact state at any point in time</li>
<li><strong>Cross-time verification</strong>: Validate relationships across time dimensions</li>
<li><strong>Audit trails</strong>: Cryptographically secured history of all changes</li>
</ul>
<h3 id="information-theoretic-optimality"><a class="header" href="#information-theoretic-optimality">Information-Theoretic Optimality</a></h3>
<p>CASG’s chunking approaches the theoretical optimum for compression and deduplication. Given sequences with similarity <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">s</span></span></span></span>, the expected storage reduction is:
<span class="katex-display"><span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8778em;vertical-align:-0.1944em;"></span><span class="mord text"><span class="mord">Storage</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6667em;vertical-align:-0.0833em;"></span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.7667em;vertical-align:-0.0833em;"></span><span class="mord mathnormal">L</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6667em;vertical-align:-0.0833em;"></span><span class="mord mathnormal">s</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">d</span><span class="mclose">)</span></span></span></span></span></p>
<p>Where:</p>
<ul>
<li><span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">n</span></span></span></span> = number of sequences</li>
<li><span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal">L</span></span></span></span> = average sequence length</li>
<li><span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">s</span></span></span></span> = average similarity between sequences</li>
<li><span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord mathnormal">d</span></span></span></span> = deduplication efficiency (approaches 1.0 with good chunking)</li>
</ul>
<p>CASG achieves <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7335em;vertical-align:-0.0391em;"></span><span class="mord mathnormal">d</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">&gt;</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">0.95</span></span></span></span> for typical biological databases through taxonomy-aware chunking.</p>
<h2 id="architecture"><a class="header" href="#architecture">Architecture</a></h2>
<pre class="mermaid">graph LR
    subgraph &quot;Client&quot;
        CLI[CLI Commands]
        API[Rust API]
    end

    subgraph &quot;CASG Core&quot;
        M[Manifest Manager]
        S[Storage Layer]
        C[Chunker]
        A[Assembler]
        V[Verifier]
        T[Taxonomy Manager]
    end

    subgraph &quot;Remote&quot;
        R1[NCBI]
        R2[UniProt]
        R3[IPFS]
        R4[S3/CDN]
    end

    CLI --&gt; API
    API --&gt; M
    M --&gt; S
    S --&gt; C
    S --&gt; A
    S --&gt; V
    C --&gt; T

    M -.-&gt; |Fetch manifests| R1
    M -.-&gt; |Fetch manifests| R2
    S -.-&gt; |Fetch chunks| R3
    S -.-&gt; |Fetch chunks| R4

    style CLI stroke:#1976d2,stroke-width:2px
    style API stroke:#1976d2,stroke-width:2px
    style M stroke:#f57c00,stroke-width:2px
    style S stroke:#1976d2,stroke-width:2px
    style C stroke:#00796b,stroke-width:2px
    style A stroke:#00796b,stroke-width:2px
    style V stroke:#388e3c,stroke-width:2px
    style T stroke:#388e3c,stroke-width:2px
    style R1 stroke:#757575,stroke-width:2px,stroke-dasharray: 5 5
    style R2 stroke:#757575,stroke-width:2px,stroke-dasharray: 5 5
    style R3 stroke:#757575,stroke-width:2px,stroke-dasharray: 5 5
    style R4 stroke:#757575,stroke-width:2px,stroke-dasharray: 5 5
</pre>
<h2 id="discrepancy-detection-maintaining-data-integrity"><a class="header" href="#discrepancy-detection-maintaining-data-integrity">Discrepancy Detection: Maintaining Data Integrity</a></h2>
<p>Biological databases suffer from a hidden problem: inconsistent taxonomic annotations. A sequence might claim to be from E. coli in its header, but mapping tables say it’s from Salmonella. Which is correct? CASG doesn’t just store these discrepancies—it actively detects, tracks, and helps resolve them.</p>
<h3 id="the-discrepancy-crisis"><a class="header" href="#the-discrepancy-crisis">The Discrepancy Crisis</a></h3>
<p>Studies estimate that 5-10% of sequences in public databases have some form of taxonomic inconsistency:</p>
<ul>
<li><strong>Header/Mapping Conflicts</strong>: FASTA header says one organism, accession2taxid says another</li>
<li><strong>Obsolete Classifications</strong>: Using old taxonomic names that have been revised</li>
<li><strong>Missing Annotations</strong>: Sequences with no taxonomic information</li>
<li><strong>Invalid References</strong>: Pointing to taxonomic IDs that no longer exist</li>
</ul>
<p>These errors propagate through analyses, potentially invalidating results. CASG addresses this systematically:</p>
<h3 id="multi-source-verification"><a class="header" href="#multi-source-verification">Multi-Source Verification</a></h3>
<p>CASG employs three-way verification for every sequence:</p>
<pre class="mermaid">graph TD
    Seq[Sequence:&lt;br/&gt;NP_12345.1 E. coli protein]

    H[Header Parser]
    M[Mapping Lookup]
    I[Inference Engine]

    Seq --&gt; H
    Seq --&gt; M
    Seq --&gt; I

    H --&gt; |Claims: E. coli| D{Discrepancy&lt;br/&gt;Detector}
    M --&gt; |Maps to: Salmonella| D
    I --&gt; |Infers: E. coli| D

    D --&gt; Report[Discrepancy Report:&lt;br/&gt;Conflict detected]

    style Seq stroke:#1976d2,stroke-width:2px
    style H stroke:#00796b,stroke-width:2px
    style M stroke:#00796b,stroke-width:2px
    style I stroke:#00796b,stroke-width:2px
    style D stroke:#d32f2f,stroke-width:2px
    style Report stroke:#d32f2f,stroke-width:3px
</pre>
<h2 id="getting-started-your-first-casg-experience"><a class="header" href="#getting-started-your-first-casg-experience">Getting Started: Your First CASG Experience</a></h2>
<p>Let’s walk through your first CASG interaction to see the system in action:</p>
<h3 id="quick-start"><a class="header" href="#quick-start">Quick Start</a></h3>
<pre><code class="language-bash"># 1. Initialize CASG repository (one-time setup)
talaria casg init
</code></pre>
<p>This creates the CASG storage structure in <code>~/.talaria/databases/</code>. The system is now ready to manage any number of databases efficiently.</p>
<pre><code class="language-bash"># 2. Download a database (uses CASG automatically)
talaria database download uniprot -d swissprot
</code></pre>
<p>Watch as CASG downloads SwissProt in chunks. Each chunk is verified against its hash and stored deduplicated. The manifest records the exact state.</p>
<pre><code class="language-bash"># 3. Check for updates (run the same command again)
talaria database download uniprot -d swissprot
</code></pre>
<p>This is where CASG shines. Instead of re-downloading 200MB, it:</p>
<ol>
<li>Fetches the new manifest (100KB)</li>
<li>Compares with your local manifest</li>
<li>Downloads only changed chunks (if any)</li>
<li>Reports: “Database is already up to date!” or “Downloaded 2 new chunks (5MB)”</li>
</ol>
<pre><code class="language-bash"># 4. View repository statistics
talaria casg stats
</code></pre>
<p>See your storage efficiency: total chunks, deduplication ratio, space saved, and more.</p>
<h3 id="example-workflow"><a class="header" href="#example-workflow">Example Workflow</a></h3>
<pre><code class="language-bash"># Initialize CASG
talaria casg init

# Download SwissProt (initial download)
talaria database download uniprot -d swissprot
# Downloads and chunks the database efficiently

# Later, check for updates (same command)
talaria database download uniprot -d swissprot
# Automatically detects existing data and only downloads changes

# Add a custom database
talaria database add -i mysequences.fasta --source mylab --dataset proteins

# List all databases
talaria database list

# Reduce a database
talaria reduce uniprot/swissprot -r 0.3 -o reduced.fasta

# View detailed information
talaria database info uniprot/swissprot
</code></pre>
<h2 id="implementation-status-and-roadmap"><a class="header" href="#implementation-status-and-roadmap">Implementation Status and Roadmap</a></h2>
<h3 id="currently-implemented-production-ready-features"><a class="header" href="#currently-implemented-production-ready-features">Currently Implemented: Production-Ready Features</a></h3>
<p>✅ <strong>Core CASG System</strong></p>
<ul>
<li><strong>Content-addressed storage</strong>: Every chunk identified by SHA256 hash</li>
<li><strong>Manifest management</strong>: Complete database state in &lt;100KB files</li>
<li><strong>Automatic deduplication</strong>: Identical chunks stored only once</li>
<li><strong>Local storage optimization</strong>: Efficient file-system based chunk store</li>
<li><strong>Cryptographic verification</strong>: Every chunk verified on retrieval</li>
<li><strong>Compression</strong>: Automatic zstd compression for all chunks</li>
</ul>
<p>✅ <strong>Database Operations</strong></p>
<ul>
<li><code>talaria database download</code> - Smart downloads with incremental updates</li>
<li><code>talaria database add</code> - Import custom FASTA files into CASG</li>
<li><code>talaria database list</code> - View all managed databases</li>
<li><code>talaria database info</code> - Detailed database statistics</li>
<li><code>talaria database list-sequences</code> - Query sequences with filtering</li>
<li><code>talaria database update-taxonomy</code> - Refresh taxonomic annotations</li>
</ul>
<p>✅ <strong>CASG Management</strong></p>
<ul>
<li><code>talaria casg init</code> - One-time repository setup</li>
<li><code>talaria casg stats</code> - Storage efficiency metrics</li>
<li><code>talaria casg sync</code> - Basic cloud synchronization</li>
<li><code>talaria casg history</code> - Complete version history</li>
</ul>
<h3 id="planned-features-the-road-ahead"><a class="header" href="#planned-features-the-road-ahead">Planned Features: The Road Ahead</a></h3>
<p>📋 <strong>Near-term (Next 3 months)</strong></p>
<ul>
<li><strong>Remote manifest servers</strong>: Central servers for coordinated updates</li>
<li><strong>S3/GCS/Azure backends</strong>: Direct cloud storage integration</li>
<li><strong>Chunk repair</strong>: Automatic detection and repair of corrupted chunks</li>
<li><strong>Garbage collection</strong>: Remove unreferenced chunks safely</li>
</ul>
<p>📋 <strong>Medium-term (6 months)</strong></p>
<ul>
<li><strong>P2P chunk sharing</strong>: BitTorrent-style distributed downloads</li>
<li><strong>Subset manifests</strong>: Share specific taxonomic subsets</li>
<li><strong>Streaming assembly</strong>: Build FASTA files without full download</li>
<li><strong>Differential privacy</strong>: Share statistics without revealing data</li>
</ul>
<p>📋 <strong>Long-term Vision</strong></p>
<ul>
<li><strong>Blockchain anchoring</strong>: Immutable proof of database states</li>
<li><strong>IPFS integration</strong>: Fully distributed database hosting</li>
<li><strong>Zero-knowledge proofs</strong>: Prove data possession without revelation</li>
<li><strong>Federated learning</strong>: Train models on distributed CASG chunks</li>
</ul>
<h2 id="next-steps"><a class="header" href="#next-steps">Next Steps</a></h2>
<ul>
<li><a href="architecture.html">Architecture Deep Dive</a></li>
<li><a href="api-reference.html">API Reference</a></li>
<li><a href="troubleshooting.html">Troubleshooting Guide</a></li>
<li><a href="../api/cli-reference.html">CLI Reference</a></li>
</ul>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="../databases/downloading.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>

                            <a rel="next prefetch" href="../casg/architecture.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="../databases/downloading.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>

                    <a rel="next prefetch" href="../casg/architecture.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>

        <!-- Livereload script (if served using the cli tool) -->
        <script>
            const wsProtocol = location.protocol === 'https:' ? 'wss:' : 'ws:';
            const wsAddress = wsProtocol + "//" + location.host + "/" + "__livereload";
            const socket = new WebSocket(wsAddress);
            socket.onmessage = function (event) {
                if (event.data === "reload") {
                    socket.close();
                    location.reload();
                }
            };

            window.onbeforeunload = function() {
                socket.close();
            }
        </script>



        <script>
            window.playground_copyable = true;
        </script>


        <script src="../elasticlunr.min.js"></script>
        <script src="../mark.min.js"></script>
        <script src="../searcher.js"></script>

        <script src="../clipboard.min.js"></script>
        <script src="../highlight.js"></script>
        <script src="../book.js"></script>

        <!-- Custom JS scripts -->
        <script src="../mermaid.min.js"></script>
        <script src="../mermaid-init.js"></script>



    </div>
    </body>
</html>
