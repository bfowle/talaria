<!DOCTYPE HTML>
<html lang="en" class="rust sidebar-visible" dir="ltr">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>CLI Reference - Talaria Documentation</title>


        <!-- Custom HTML head -->
        <!-- MathJax Configuration -->
        <script>
        window.MathJax = {
          tex2jax: {
            inlineMath: [['$','$'], ['\\(','\\)']],
            displayMath: [['$$','$$'], ['\\[','\\]']],
            processEscapes: true,
            processEnvironments: true
          },
          TeX: {
            equationNumbers: { autoNumber: "AMS" },
            extensions: ["AMSmath.js", "AMSsymbols.js"]
          }
        };
        </script>
        <meta name="description" content="Intelligent FASTA reduction for aligner index optimization">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff">

        <link rel="icon" href="../favicon.svg">
        <link rel="shortcut icon" href="../favicon.png">
        <link rel="stylesheet" href="../css/variables.css">
        <link rel="stylesheet" href="../css/general.css">
        <link rel="stylesheet" href="../css/chrome.css">
        <link rel="stylesheet" href="../css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="../FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="../fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" id="highlight-css" href="../highlight.css">
        <link rel="stylesheet" id="tomorrow-night-css" href="../tomorrow-night.css">
        <link rel="stylesheet" id="ayu-highlight-css" href="../ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        <link rel="stylesheet" href="../custom.css">


        <!-- Provide site root and default themes to javascript -->
        <script>
            const path_to_root = "../";
            const default_light_theme = "rust";
            const default_dark_theme = "ayu";
            window.path_to_searchindex_js = "../searchindex.js";
        </script>
        <!-- Start loading toc.js asap -->
        <script src="../toc.js"></script>
    </head>
    <body>
    <div id="mdbook-help-container">
        <div id="mdbook-help-popup">
            <h2 class="mdbook-help-title">Keyboard shortcuts</h2>
            <div>
                <p>Press <kbd>←</kbd> or <kbd>→</kbd> to navigate between chapters</p>
                <p>Press <kbd>S</kbd> or <kbd>/</kbd> to search in the book</p>
                <p>Press <kbd>?</kbd> to show this help</p>
                <p>Press <kbd>Esc</kbd> to hide this help</p>
            </div>
        </div>
    </div>
    <div id="body-container">
        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                let theme = localStorage.getItem('mdbook-theme');
                let sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            const default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? default_dark_theme : default_light_theme;
            let theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            const html = document.documentElement;
            html.classList.remove('rust')
            html.classList.add(theme);
            html.classList.add("js");
        </script>

        <input type="checkbox" id="sidebar-toggle-anchor" class="hidden">

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            let sidebar = null;
            const sidebar_toggle = document.getElementById("sidebar-toggle-anchor");
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
                sidebar_toggle.checked = false;
            }
            if (sidebar === 'visible') {
                sidebar_toggle.checked = true;
            } else {
                html.classList.remove('sidebar-visible');
            }
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <!-- populated by js -->
            <mdbook-sidebar-scrollbox class="sidebar-scrollbox"></mdbook-sidebar-scrollbox>
            <noscript>
                <iframe class="sidebar-iframe-outer" src="../toc.html"></iframe>
            </noscript>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle">
                <div class="sidebar-resize-indicator"></div>
            </div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <label id="sidebar-toggle" class="icon-button" for="sidebar-toggle-anchor" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </label>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="default_theme">Auto</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search (`/`)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="/ s" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">Talaria Documentation</h1>

                    <div class="right-buttons">
                        <a href="../print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                        <a href="https://github.com/bfowle/talaria" title="Git repository" aria-label="Git repository">
                            <i id="git-repository-button" class="fa fa-github"></i>
                        </a>
                        <a href="https://github.com/bfowle/talaria/edit/main/docs/src/api/cli.md" title="Suggest an edit" aria-label="Suggest an edit" rel="edit">
                            <i id="git-edit-button" class="fa fa-edit"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <div class="search-wrapper">
                            <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                            <div class="spinner-wrapper">
                                <i class="fa fa-spinner fa-spin"></i>
                            </div>
                        </div>
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.4/dist/katex.min.css">
<h1 id="command-line-interface-api-reference"><a class="header" href="#command-line-interface-api-reference">Command Line Interface API Reference</a></h1>
<p>Talaria provides a comprehensive command-line interface for intelligent FASTA reduction and bioinformatics processing. This document provides complete API reference for all commands, options, and usage patterns.</p>
<h2 id="global-options"><a class="header" href="#global-options">Global Options</a></h2>
<p>These options are available for all commands and control global behavior:</p>
<h3 id="-v---verbose"><a class="header" href="#-v---verbose"><code>-v, --verbose</code></a></h3>
<p><strong>Type:</strong> Flag (repeatable)<br />
<strong>Default:</strong> None<br />
<strong>Description:</strong> Increase verbosity level. Can be repeated multiple times for more detailed output.</p>
<pre><code class="language-bash">talaria -v reduce ...           # Basic verbose output
talaria -vv reduce ...          # More detailed output  
talaria -vvv reduce ...         # Debug-level output
</code></pre>
<h3 id="-j---threads-number"><a class="header" href="#-j---threads-number"><code>-j, --threads &lt;NUMBER&gt;</code></a></h3>
<p><strong>Type:</strong> Integer<br />
<strong>Default:</strong> <code>0</code> (auto-detect all available cores)<br />
<strong>Description:</strong> Number of threads to use for parallel processing.</p>
<pre><code class="language-bash">talaria -j 4 reduce ...         # Use 4 threads
talaria -j 0 reduce ...         # Use all available cores
</code></pre>
<hr />
<h2 id="database-reference-format"><a class="header" href="#database-reference-format">Database Reference Format</a></h2>
<p>Many commands support database references for working with stored databases:</p>
<pre><code>source/dataset[@version][:profile]
</code></pre>
<p><strong>Components:</strong></p>
<ul>
<li><code>source</code>: Database source (e.g., <code>uniprot</code>, <code>ncbi</code>)</li>
<li><code>dataset</code>: Dataset name (e.g., <code>swissprot</code>, <code>nr</code>)</li>
<li><code>@version</code>: Optional version (e.g., <code>@2024-01-01</code>, default: <code>current</code>)</li>
<li><code>:profile</code>: Reduction profile (e.g., <code>:blast-30</code>, required for validate/reconstruct)</li>
</ul>
<p><strong>Examples:</strong></p>
<ul>
<li><code>uniprot/swissprot</code> - Current version of SwissProt</li>
<li><code>uniprot/swissprot@2024-01-01</code> - Specific version</li>
<li><code>uniprot/swissprot:blast-30</code> - Reduction profile</li>
<li><code>ncbi/nr@2024-01-01:fast-25</code> - Specific version’s reduction</li>
</ul>
<hr />
<h2 id="commands"><a class="header" href="#commands">Commands</a></h2>
<h3 id="reduce"><a class="header" href="#reduce">reduce</a></h3>
<p>Intelligently reduce a FASTA file for optimal aligner indexing by selecting representative sequences and encoding similar sequences as deltas.</p>
<h4 id="usage"><a class="header" href="#usage">Usage</a></h4>
<pre><code class="language-bash"># Database approach (automatically stores result)
talaria reduce [DATABASE] [OPTIONS]

# File-based approach (traditional)
talaria reduce -i &lt;INPUT&gt; -o &lt;OUTPUT&gt; [OPTIONS]
</code></pre>
<h4 id="positional-arguments"><a class="header" href="#positional-arguments">Positional Arguments</a></h4>
<p><strong><code>[DATABASE]</code></strong> (Optional)<br />
Database to reduce (e.g., <code>uniprot/swissprot</code>, <code>ncbi/nr@2024-01-01</code>).<br />
When specified, automatically stores result in database structure.</p>
<h4 id="file-based-arguments"><a class="header" href="#file-based-arguments">File-based Arguments</a></h4>
<p><strong><code>-i, --input &lt;FILE&gt;</code></strong><br />
Path to input FASTA file (required if DATABASE not specified).</p>
<p><strong><code>-o, --output &lt;FILE&gt;</code></strong><br />
Path for output reduced FASTA file (required if DATABASE not specified and –store not used).</p>
<h4 id="core-options"><a class="header" href="#core-options">Core Options</a></h4>
<p><strong><code>-a, --target-aligner &lt;ALIGNER&gt;</code></strong><br />
<strong>Default:</strong> <code>generic</code><br />
<strong>Values:</strong> <code>lambda</code>, <code>blast</code>, <code>kraken</code>, <code>diamond</code>, <code>mmseqs2</code>, <code>generic</code><br />
Target aligner for optimization.</p>
<p><strong><code>-r, --reduction-ratio &lt;RATIO&gt;</code></strong><br />
<strong>Type:</strong> Float (0.0-1.0)<br />
<strong>Default:</strong> <code>0.3</code><br />
Target reduction ratio where 0.3 means 30% of original size.</p>
<p><strong><code>--profile &lt;NAME&gt;</code></strong><br />
Profile name for stored reduction (e.g., <code>blast-optimized</code>).<br />
Default: auto-generated from ratio (e.g., <code>30-percent</code>).</p>
<p><strong><code>--store</code></strong><br />
Store reduced version in database structure (only needed with <code>-i</code>).</p>
<p><strong><code>--min-length &lt;LENGTH&gt;</code></strong><br />
<strong>Type:</strong> Integer<br />
<strong>Default:</strong> <code>50</code><br />
Minimum sequence length to consider.</p>
<p><strong><code>-m, --metadata &lt;FILE&gt;</code></strong><br />
Output path for delta metadata file.</p>
<p><strong><code>-c, --config &lt;FILE&gt;</code></strong><br />
Path to TOML configuration file.</p>
<h4 id="advanced-options"><a class="header" href="#advanced-options">Advanced Options</a></h4>
<p><strong><code>--similarity-threshold &lt;THRESHOLD&gt;</code></strong><br />
Enable similarity-based clustering (0.0-1.0).</p>
<p><strong><code>--low-complexity-filter</code></strong><br />
Filter out low-complexity sequences.</p>
<p><strong><code>--align-select</code></strong><br />
Use alignment-based selection.</p>
<p><strong><code>--taxonomy-aware</code></strong><br />
Consider taxonomic IDs when selecting references.</p>
<p><strong><code>--no-deltas</code></strong><br />
Skip delta encoding (faster, no reconstruction).</p>
<p><strong><code>--max-align-length &lt;LENGTH&gt;</code></strong><br />
Maximum sequence length for alignment (default: 10000).</p>
<h4 id="examples"><a class="header" href="#examples">Examples</a></h4>
<h5 id="database-based-reduction-new"><a class="header" href="#database-based-reduction-new">Database-based Reduction (NEW)</a></h5>
<pre><code class="language-bash"># Reduce stored database with auto-storage
talaria reduce uniprot/swissprot --profile blast-30 -r 0.3

# Reduce specific version
talaria reduce uniprot/swissprot@2024-01-01 --profile old-blast -r 0.3

# Further reduce existing reduction
talaria reduce uniprot/swissprot:blast-30 --profile ultra-fast -r 0.1

# Use custom aligner optimization
talaria reduce ncbi/nr --profile diamond-optimized -a diamond -r 0.25
</code></pre>
<h5 id="file-based-reduction-traditional"><a class="header" href="#file-based-reduction-traditional">File-based Reduction (Traditional)</a></h5>
<pre><code class="language-bash"># Simple reduction
talaria reduce -i database.fasta -o reduced.fasta

# With metadata for reconstruction
talaria reduce -i input.fasta -o output.fasta -m deltas.tal -r 0.3

# Store external file in database structure
talaria reduce -i external.fasta -o /tmp/out.fasta --store --profile custom
</code></pre>
<hr />
<h3 id="validate"><a class="header" href="#validate">validate</a></h3>
<p>Validate reduction quality by comparing original, reduced, and delta files.</p>
<h4 id="usage-1"><a class="header" href="#usage-1">Usage</a></h4>
<pre><code class="language-bash"># Database approach
talaria validate DATABASE:PROFILE [OPTIONS]

# File-based approach
talaria validate -o &lt;ORIGINAL&gt; -r &lt;REDUCED&gt; -d &lt;DELTAS&gt; [OPTIONS]
</code></pre>
<h4 id="positional-arguments-1"><a class="header" href="#positional-arguments-1">Positional Arguments</a></h4>
<p><strong><code>[DATABASE:PROFILE]</code></strong> (Optional)<br />
Database reduction to validate (e.g., <code>uniprot/swissprot:blast-30</code>).<br />
Profile is required for validation.</p>
<h4 id="file-based-arguments-1"><a class="header" href="#file-based-arguments-1">File-based Arguments</a></h4>
<p><strong><code>-o, --original &lt;FILE&gt;</code></strong><br />
Original FASTA file (required if DATABASE:PROFILE not specified).</p>
<p><strong><code>-r, --reduced &lt;FILE&gt;</code></strong><br />
Reduced FASTA file (required if DATABASE:PROFILE not specified).</p>
<p><strong><code>-d, --deltas &lt;FILE&gt;</code></strong><br />
Delta metadata file (required if DATABASE:PROFILE not specified).</p>
<h4 id="optional-arguments"><a class="header" href="#optional-arguments">Optional Arguments</a></h4>
<p><strong><code>--original-results &lt;FILE&gt;</code></strong><br />
Alignment results from original (for comparison).</p>
<p><strong><code>--reduced-results &lt;FILE&gt;</code></strong><br />
Alignment results from reduced (for comparison).</p>
<p><strong><code>--report &lt;FILE&gt;</code></strong><br />
Output validation report in JSON format.</p>
<h4 id="examples-1"><a class="header" href="#examples-1">Examples</a></h4>
<h5 id="database-based-validation-new"><a class="header" href="#database-based-validation-new">Database-based Validation (NEW)</a></h5>
<pre><code class="language-bash"># Validate stored reduction
talaria validate uniprot/swissprot:blast-30

# Validate specific version's reduction
talaria validate uniprot/swissprot@2024-01-01:blast-30

# With alignment comparison
talaria validate ncbi/nr:fast-25 \
    --original-results orig.m8 \
    --reduced-results red.m8 \
    --report validation.json
</code></pre>
<h5 id="file-based-validation-traditional"><a class="header" href="#file-based-validation-traditional">File-based Validation (Traditional)</a></h5>
<pre><code class="language-bash"># Basic validation
talaria validate -o original.fasta -r reduced.fasta -d deltas.tal

# With detailed report
talaria validate \
    -o orig.fasta \
    -r red.fasta \
    -d deltas.tal \
    --report validation_report.json
</code></pre>
<hr />
<h3 id="reconstruct"><a class="header" href="#reconstruct">reconstruct</a></h3>
<p>Reconstruct original sequences from reference sequences and delta metadata.</p>
<h4 id="usage-2"><a class="header" href="#usage-2">Usage</a></h4>
<pre><code class="language-bash"># Database approach
talaria reconstruct DATABASE:PROFILE [OPTIONS]

# File-based approach
talaria reconstruct -r &lt;REFERENCES&gt; -d &lt;DELTAS&gt; [OPTIONS]
</code></pre>
<h4 id="positional-arguments-2"><a class="header" href="#positional-arguments-2">Positional Arguments</a></h4>
<p><strong><code>[DATABASE:PROFILE]</code></strong> (Optional)<br />
Database reduction to reconstruct (e.g., <code>uniprot/swissprot:blast-30</code>).<br />
Profile is required for reconstruction.</p>
<h4 id="file-based-arguments-2"><a class="header" href="#file-based-arguments-2">File-based Arguments</a></h4>
<p><strong><code>-r, --references &lt;FILE&gt;</code></strong><br />
Reference FASTA file (required if DATABASE:PROFILE not specified).</p>
<p><strong><code>-d, --deltas &lt;FILE&gt;</code></strong><br />
Delta metadata file (required if DATABASE:PROFILE not specified).</p>
<h4 id="optional-arguments-1"><a class="header" href="#optional-arguments-1">Optional Arguments</a></h4>
<p><strong><code>-o, --output &lt;FILE&gt;</code></strong><br />
Output reconstructed FASTA file.<br />
Default: auto-generated based on input.</p>
<p><strong><code>--sequences &lt;IDS&gt;</code></strong><br />
Only reconstruct specific sequences (comma-separated IDs).</p>
<h4 id="examples-2"><a class="header" href="#examples-2">Examples</a></h4>
<h5 id="database-based-reconstruction-new"><a class="header" href="#database-based-reconstruction-new">Database-based Reconstruction (NEW)</a></h5>
<pre><code class="language-bash"># Reconstruct all sequences (auto-generates output name)
talaria reconstruct uniprot/swissprot:blast-30

# Specify output file
talaria reconstruct uniprot/swissprot:blast-30 -o reconstructed.fasta

# Reconstruct specific sequences
talaria reconstruct ncbi/nr:fast-25 --sequences P12345,Q67890

# From specific version
talaria reconstruct uniprot/swissprot@2024-01-01:blast-30
</code></pre>
<h5 id="file-based-reconstruction-traditional"><a class="header" href="#file-based-reconstruction-traditional">File-based Reconstruction (Traditional)</a></h5>
<pre><code class="language-bash"># Basic reconstruction
talaria reconstruct -r refs.fasta -d deltas.tal -o output.fasta

# Auto-generate output name
talaria reconstruct -r refs.fasta -d deltas.tal

# Selective reconstruction
talaria reconstruct -r refs.fasta -d deltas.tal --sequences ID1,ID2
</code></pre>
<hr />
<h3 id="database"><a class="header" href="#database">database</a></h3>
<p>Manage biological sequence databases with versioning and reductions.</p>
<h4 id="subcommands"><a class="header" href="#subcommands">Subcommands</a></h4>
<h5 id="database-download"><a class="header" href="#database-download">database download</a></h5>
<p>Download databases from supported sources.</p>
<pre><code class="language-bash">talaria database download [OPTIONS]
</code></pre>
<p><strong>Options:</strong></p>
<ul>
<li><code>--database &lt;SOURCE&gt;</code>: Database source (<code>uniprot</code>, <code>ncbi</code>)</li>
<li><code>-d, --dataset &lt;NAME&gt;</code>: Dataset to download</li>
<li><code>-o, --output &lt;DIR&gt;</code>: Output directory (default: centralized)</li>
<li><code>-r, --resume</code>: Resume incomplete download</li>
<li><code>--skip-verify</code>: Skip checksum verification</li>
<li><code>--list-datasets</code>: List available datasets</li>
</ul>
<p><strong>Examples:</strong></p>
<pre><code class="language-bash"># Download UniProt SwissProt
talaria database download --database uniprot -d swissprot

# Download NCBI NR with resume
talaria database download --database ncbi -d nr --resume

# List available datasets
talaria database download --list-datasets
</code></pre>
<h5 id="database-list"><a class="header" href="#database-list">database list</a></h5>
<p>List stored databases and their reductions.</p>
<pre><code class="language-bash">talaria database list [OPTIONS]
</code></pre>
<p><strong>Options:</strong></p>
<ul>
<li><code>--show-reduced</code>: Show reduced versions</li>
<li><code>--detailed</code>: Show detailed information</li>
<li><code>--all-versions</code>: Show all versions (not just current)</li>
<li><code>--database &lt;REF&gt;</code>: Specific database to list</li>
<li><code>--sort &lt;FIELD&gt;</code>: Sort by field (<code>name</code>, <code>size</code>, <code>date</code>)</li>
</ul>
<p><strong>Examples:</strong></p>
<pre><code class="language-bash"># List all databases
talaria database list

# Show with reductions
talaria database list --show-reduced

# Detailed view of specific database
talaria database list --database uniprot/swissprot --detailed --all-versions
</code></pre>
<h5 id="database-diff"><a class="header" href="#database-diff">database diff</a></h5>
<p>Compare database versions or reductions.</p>
<pre><code class="language-bash">talaria database diff &lt;OLD&gt; [NEW] [OPTIONS]
</code></pre>
<p><strong>Arguments:</strong></p>
<ul>
<li><code>&lt;OLD&gt;</code>: First database reference</li>
<li><code>[NEW]</code>: Second database reference (optional, compares with previous if omitted)</li>
</ul>
<p><strong>Options:</strong></p>
<ul>
<li><code>-o, --output &lt;FILE&gt;</code>: Output report file</li>
<li><code>--format &lt;FORMAT&gt;</code>: Report format (<code>text</code>, <code>html</code>, <code>json</code>, <code>csv</code>)</li>
<li><code>--detailed</code>: Show detailed sequence changes</li>
<li><code>--headers-only</code>: Compare only headers (fast)</li>
<li><code>--similarity-threshold &lt;RATIO&gt;</code>: Threshold for modified sequences</li>
</ul>
<p><strong>Examples:</strong></p>
<pre><code class="language-bash"># Compare with previous version
talaria database diff uniprot/swissprot

# Compare specific versions
talaria database diff uniprot/swissprot@2024-01-01 uniprot/swissprot@2024-02-01

# Compare reductions
talaria database diff uniprot/swissprot:blast-30 uniprot/swissprot:diamond-40

# Generate HTML report
talaria database diff ncbi/nr --format html --visual -o changes.html
</code></pre>
<h5 id="database-clean"><a class="header" href="#database-clean">database clean</a></h5>
<p>Clean old database versions.</p>
<pre><code class="language-bash">talaria database clean [DATABASE] [OPTIONS]
</code></pre>
<p><strong>Options:</strong></p>
<ul>
<li><code>--keep &lt;COUNT&gt;</code>: Number of versions to keep (default: 3)</li>
<li><code>--all</code>: Clean all databases</li>
<li><code>--dry-run</code>: Show what would be deleted</li>
</ul>
<p><strong>Examples:</strong></p>
<pre><code class="language-bash"># Clean old versions of specific database
talaria database clean uniprot/swissprot

# Keep 5 versions
talaria database clean uniprot/swissprot --keep 5

# Clean all databases
talaria database clean --all
</code></pre>
<hr />
<h3 id="search"><a class="header" href="#search">search</a></h3>
<p>Search sequences against a database using various aligners.</p>
<h4 id="usage-3"><a class="header" href="#usage-3">Usage</a></h4>
<pre><code class="language-bash">talaria search -d &lt;DATABASE&gt; -q &lt;QUERY&gt; [OPTIONS]
</code></pre>
<h4 id="required-arguments"><a class="header" href="#required-arguments">Required Arguments</a></h4>
<p><strong><code>-d, --database &lt;FILE&gt;</code></strong><br />
Path to database file (can be reduced FASTA).</p>
<p><strong><code>-q, --query &lt;FILE&gt;</code></strong><br />
Path to query FASTA file.</p>
<h4 id="optional-arguments-2"><a class="header" href="#optional-arguments-2">Optional Arguments</a></h4>
<p><strong><code>-a, --aligner &lt;ALIGNER&gt;</code></strong><br />
<strong>Default:</strong> <code>auto</code><br />
<strong>Values:</strong> <code>lambda</code>, <code>blast</code>, <code>kraken</code>, <code>diamond</code>, <code>mmseqs2</code>, <code>auto</code><br />
Aligner to use for search.</p>
<p><strong><code>-o, --output &lt;FILE&gt;</code></strong><br />
Output file for results (default: stdout).</p>
<p><strong><code>--threads &lt;NUMBER&gt;</code></strong><br />
Number of threads for alignment.</p>
<p><strong><code>--evalue &lt;NUMBER&gt;</code></strong><br />
E-value threshold (default: 0.001).</p>
<p><strong><code>--max-target-seqs &lt;NUMBER&gt;</code></strong><br />
Maximum number of target sequences (default: 10).</p>
<h4 id="examples-3"><a class="header" href="#examples-3">Examples</a></h4>
<pre><code class="language-bash"># Search with auto-detected aligner
talaria search -d reduced.fasta -q queries.fasta

# Use specific aligner with parameters
talaria search \
    -d nr_reduced.fasta \
    -q proteins.fasta \
    -a blast \
    --evalue 1e-10 \
    --max-target-seqs 100 \
    -o results.txt

# Search against stored database
talaria search \
    -d ${TALARIA_HOME}/databases/data/uniprot/swissprot/current/reduced/blast-30/swissprot.fasta \
    -q query.fasta
</code></pre>
<hr />
<h3 id="stats"><a class="header" href="#stats">stats</a></h3>
<p>Display statistics about FASTA files or reductions.</p>
<h4 id="usage-4"><a class="header" href="#usage-4">Usage</a></h4>
<pre><code class="language-bash">talaria stats &lt;FILE&gt; [OPTIONS]
</code></pre>
<h4 id="arguments"><a class="header" href="#arguments">Arguments</a></h4>
<p><strong><code>&lt;FILE&gt;</code></strong><br />
Path to FASTA file or delta metadata file.</p>
<h4 id="options"><a class="header" href="#options">Options</a></h4>
<p><strong><code>--detailed</code></strong><br />
Show detailed per-sequence statistics.</p>
<p><strong><code>--format &lt;FORMAT&gt;</code></strong><br />
Output format (<code>text</code>, <code>json</code>, <code>csv</code>).</p>
<h4 id="examples-4"><a class="header" href="#examples-4">Examples</a></h4>
<pre><code class="language-bash"># Basic statistics
talaria stats database.fasta

# Detailed analysis
talaria stats reduced.fasta --detailed

# JSON output for processing
talaria stats deltas.tal --format json
</code></pre>
<hr />
<h3 id="interactive"><a class="header" href="#interactive">interactive</a></h3>
<p>Launch interactive mode for guided workflows.</p>
<h4 id="usage-5"><a class="header" href="#usage-5">Usage</a></h4>
<pre><code class="language-bash">talaria interactive
</code></pre>
<p>This launches a menu-driven interface for:</p>
<ul>
<li>Database downloads</li>
<li>Reduction workflows</li>
<li>Validation and testing</li>
<li>Configuration management</li>
</ul>
<hr />
<h2 id="configuration"><a class="header" href="#configuration">Configuration</a></h2>
<p>Talaria uses TOML configuration files for advanced settings.</p>
<h3 id="default-configuration-location"><a class="header" href="#default-configuration-location">Default Configuration Location</a></h3>
<ul>
<li><code>${TALARIA_HOME}/config.toml</code> (user)</li>
<li><code>./talaria.toml</code> (project)</li>
</ul>
<h3 id="configuration-structure"><a class="header" href="#configuration-structure">Configuration Structure</a></h3>
<pre><code class="language-toml">[database]
database_dir = "${TALARIA_HOME}/databases/data"
retention_count = 3

[reduction]
min_sequence_length = 50
similarity_threshold = 0.0
taxonomy_aware = false

[aligners.blast]
path = "/usr/bin/blastp"
default_evalue = 0.001
default_max_target_seqs = 10

[performance]
max_memory_gb = 8
parallel_io = true
compression_level = 6
</code></pre>
<h3 id="environment-variables"><a class="header" href="#environment-variables">Environment Variables</a></h3>
<ul>
<li><code>TALARIA_CONFIG</code>: Path to configuration file</li>
<li><code>TALARIA_DATABASE_DIR</code>: Override database directory</li>
<li><code>TALARIA_THREADS</code>: Default thread count</li>
<li><code>TALARIA_LOG</code>: Log level (<code>error</code>, <code>warn</code>, <code>info</code>, <code>debug</code>, <code>trace</code>)</li>
</ul>
<hr />
<h2 id="exit-codes"><a class="header" href="#exit-codes">Exit Codes</a></h2>
<ul>
<li><code>0</code>: Success</li>
<li><code>1</code>: General error</li>
<li><code>2</code>: Invalid arguments</li>
<li><code>3</code>: File not found</li>
<li><code>4</code>: Permission denied</li>
<li><code>5</code>: Out of memory</li>
<li><code>10</code>: Validation failed</li>
<li><code>11</code>: Reconstruction failed</li>
</ul>
<hr />
<h2 id="performance-tips"><a class="header" href="#performance-tips">Performance Tips</a></h2>
<ol>
<li><strong>Use appropriate thread counts</strong>: <code>-j 0</code> uses all cores</li>
<li><strong>Skip validation for speed</strong>: <code>--skip-validation</code></li>
<li><strong>Use <code>--no-deltas</code> for one-way reduction</strong></li>
<li><strong>Adjust <code>--max-align-length</code> for long sequences</strong></li>
<li><strong>Use stored databases to avoid repeated file I/O</strong></li>
<li><strong>Profile-specific reductions for different aligners</strong></li>
</ol>
<hr />
<h2 id="see-also"><a class="header" href="#see-also">See Also</a></h2>
<ul>
<li><a href="../user-guide/configuration.html">Configuration Guide</a></li>
<li><a href="../user-guide/basic-usage.html">Basic Usage</a></li>
<li><a href="../databases/downloading.html">Database Management</a></li>
<li><a href="../workflows/">Workflow Examples</a></li>
</ul>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="../benchmarks/quality.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>

                            <a rel="next prefetch" href="../api/configuration.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="../benchmarks/quality.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>

                    <a rel="next prefetch" href="../api/configuration.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>




        <script>
            window.playground_copyable = true;
        </script>


        <script src="../elasticlunr.min.js"></script>
        <script src="../mark.min.js"></script>
        <script src="../searcher.js"></script>

        <script src="../clipboard.min.js"></script>
        <script src="../highlight.js"></script>
        <script src="../book.js"></script>

        <!-- Custom JS scripts -->
        <script src="../mermaid.min.js"></script>
        <script src="../mermaid-init.js"></script>



    </div>
    </body>
</html>
